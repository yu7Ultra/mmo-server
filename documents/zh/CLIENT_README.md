# MMO Client

基于 Vite + Pixi.js + Colyseus 的 MMO 游戏客户端。

## 功能特性

### 游戏画面
- 玩家以圆形显示，当前玩家为红色，其他玩家为绿色
- 显示玩家名称
- 实时显示生命值条（绿色）
- 实时显示魔法值条（蓝色）

### 控制方式
- **移动**: 使用方向键 ↑↓←→ 控制角色移动
- **攻击**: 点击其他玩家进行普通攻击
- **技能**: 使用数字键 1-4 快速使用技能

### UI 面板

#### 1. 玩家状态面板
显示当前玩家的详细信息：
- 等级和经验进度
- 生命值和魔法值（带进度条）
- 攻击、防御、速度属性
- 击杀/死亡统计

#### 2. 技能面板
显示4个可用技能：
- **1 - Fireball**: 火球术，远程攻击技能
- **2 - Heal**: 治疗术，恢复生命值
- **3 - Shield**: 护盾，提升防御力
- **4 - Dash**: 冲刺，提升移动速度

每个技能显示：
- 快捷键编号
- 技能名称
- 魔法消耗
- 冷却时间（如果在冷却中）
- 就绪/冷却状态（颜色区分）

#### 3. 任务面板
显示当前任务进度：
- 任务名称
- 进度条
- 经验奖励
- 完成状态标记

#### 4. 成就面板
显示已解锁的成就：
- 成就名称和描述
- 解锁时间

#### 5. 排行榜面板
显示前10名玩家：
- 排名
- 玩家名称
- 等级
- 积分

#### 6. 聊天面板
实时聊天系统：
- 查看其他玩家消息
- 发送全局消息
- 消息历史记录（最多50条）

## 技能使用

### 攻击技能（需要目标）
按下快捷键 `1` 使用火球术，会自动攻击最近的敌人。

### 辅助技能（自我施放）
- 按 `2` 使用治疗术恢复生命
- 按 `3` 使用护盾增加防御
- 按 `4` 使用冲刺提升速度

**注意**: 
- 技能需要消耗魔法值
- 技能有冷却时间
- 魔法不足或冷却中无法使用

## 开发

### 安装依赖
```bash
yarn install
```

### 开发模式
```bash
yarn dev
```

### 构建
```bash
yarn build
```

### 预览构建结果
```bash
yarn preview
```

## 技术栈

- **Vite**: 快速的前端构建工具
- **TypeScript**: 类型安全的 JavaScript
- **Pixi.js**: 高性能 2D 渲染引擎
- **Colyseus**: 多人游戏框架客户端
- **@colyseus/schema**: 状态同步

## 服务器连接

客户端默认连接到 `ws://localhost:2567`。如需修改服务器地址，请编辑 `src/main.ts` 中的连接配置：

```typescript
const client = new Client("ws://localhost:2567");
```

## UI 布局

- 左侧: 游戏画面 (800x600)
- 右侧: UI 面板侧边栏 (320px 宽)
  - 玩家状态
  - 技能列表
  - 任务列表
  - 成就列表
  - 排行榜
  - 聊天窗口

## 性能优化

- 技能冷却 UI 每100ms更新一次
- 聊天消息限制最多50条
- 使用事件监听器而非轮询获取状态更新
- Pixi.js 使用 WebGL 渲染以获得最佳性能
